---
import Layout from "../../layouts/Layout.astro";
import { jobDetails } from "../../data/jobs";

export function getStaticPaths() {
  return jobDetails.map((job) => ({
    params: { id: job.id },
    props: { job },
  }));
}
const { job } = Astro.props;
---

<Layout title={`${job.title} | SonicAI採用`}>
  <main class="job-detail-page">
    <section class="job-hero" style={`background: ${job.gradient};`}>
      <div class="hero-overlay"></div>
      <div class="container">
        <div class="status-badge">{job.status}</div>
        <h1 class="job-main-title">{job.title} <br><span>{job.subTitle}</span></h1>
        <p class="job-intro-text">{job.description}</p>
      </div>
    </section>

    <div class="container">
      <section class="job-info-card">
        <h2 class="section-label">■ 給与報酬（年俸 ＋ ストックオプション）</h2>
        <ul class="info-list">
          <li>{job.salary}</li>
          <li>{job.benefits}</li>
        </ul>
      </section>

      {job.sections.map((section) => (
        <section class="job-content-section">
          <h2 class="section-label">■ {section.title}</h2>
          <ul class="bullet-list">
            {section.items.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </section>
      ))}

      <div class="apply-area">
        <a href="mailto:recruit@example.com" class="apply-button">この職種に応募する</a>
      </div>
    </div>
  </main>
</Layout>

<style>
  .job-detail-page { background-color: #fff; padding-bottom: 60px; } /* 下部余白を削減 */

  .job-hero {
    position: relative;
    background: linear-gradient(135deg, #ff6600 0%, #a033ff 50%, #0033aa 100%);
    color: #fff;
    padding: 120px 0 40px; 
    overflow: hidden;
  }

  .hero-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-image: url('/images/office-bg.jpg');
    opacity: 0.15;
    mix-blend-mode: overlay;
  }

  .container { max-width: 1000px; margin: 0 auto; padding: 0 40px; position: relative; }

  .status-badge {
    background: #000;
    color: #fff;
    display: inline-block;
    padding: 2px 16px;
    border-radius: 4px;
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 0.9rem;
  }

  .job-main-title { 
    font-size: 4.5rem; 
    font-weight: 800; 
    line-height: 1.05;
    margin-bottom: 25px;
  }
  .job-main-title span { font-size: 2.2rem; opacity: 0.9; }

  .job-intro-text { font-size: 1.15rem; line-height: 1.5; max-width: 850px; }

  .section-label { 
    font-size: 1.2rem; 
    font-weight: 800; 
    margin: 30px 0 10px;
    color: #1a1a1a; 
  }
  
  .info-list, .bullet-list { list-style: none; padding-left: 20px; }
  
  .info-list li, .bullet-list li {
    position: relative;
    font-size: 1.05rem;
    line-height: 1.5;
    margin-bottom: 6px; 
    color: #333;
  }

  .info-list li::before, .bullet-list li::before {
    content: "●";
    position: absolute;
    left: -20px;
    color: #333;
    font-size: 0.7rem;
    top: 2px;
  }

  .apply-area { text-align: center; margin-top: 40px; }
  .apply-button {
    background: #ff6600;
    color: #fff;
    padding: 16px 48px;
    font-size: 1.3rem;
    font-weight: 800;
    text-decoration: none;
    border-radius: 4px;
    transition: transform 0.2s;
    display: inline-block;
  }
  .apply-button:hover { transform: scale(1.05); }

  /* レスポンシブ調整 */
  @media (max-width: 768px) {
    .job-hero { padding: 100px 0 30px; }
    .job-main-title { font-size: 2.5rem; margin-bottom: 15px; }
    .job-main-title span { font-size: 1.4rem; }
    .job-intro-text { font-size: 1rem; }
    .container { padding: 0 24px; }
  }
</style>